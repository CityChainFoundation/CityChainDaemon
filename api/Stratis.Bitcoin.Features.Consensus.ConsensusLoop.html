<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class ConsensusLoop
   | City Chain: Developer Reference </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class ConsensusLoop
   | City Chain: Developer Reference ">
    <meta name="generator" content="docfx 2.37.1.0">
    
    <link rel="shortcut icon" href="../images/favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../images/icon.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop">
  
  
  <h1 id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop" class="text-break">Class ConsensusLoop
  </h1>
  <div class="markdown level0 summary"><p>Consumes incoming blocks, validates and executes them.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><span class="xref">System.Object</span></div>
    <div class="level1"><span class="xref">ConsensusLoop</span></div>
  </div>
  <div classs="implements">
    <h5>Implements</h5>
    <div><a class="xref" href="Stratis.Bitcoin.Features.Consensus.Interfaces.IConsensusLoop.html">IConsensusLoop</a></div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Stratis.Bitcoin.Features.Consensus.html">Stratis.Bitcoin.Features.Consensus</a></h6>
  <h6><strong>Assembly</strong>: Stratis.Bitcoin.Features.Consensus.dll</h6>
  <h5 id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class ConsensusLoop : object, IConsensusLoop</code></pre>
  </div>
  <h5 id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>
Blocks are coming from <a class="xref" href="Stratis.Bitcoin.BlockPulling.ILookaheadBlockPuller.html">ILookaheadBlockPuller</a> or Miner/Staker and get validated by get validated by the <a class="xref" href="Stratis.Bitcoin.Features.Consensus.Rules.IConsensusRules.html">IConsensusRules</a> engine.
See either the <a class="xref" href="Stratis.Bitcoin.Features.Consensus.FullNodeBuilderConsensusExtension.PowConsensusRulesRegistration.html">FullNodeBuilderConsensusExtension.PowConsensusRulesRegistration</a> for PoW or the <a class="xref" href="Stratis.Bitcoin.Features.Consensus.FullNodeBuilderConsensusExtension.PowConsensusRulesRegistration.html">FullNodeBuilderConsensusExtension.PowConsensusRulesRegistration</a> for PoS.
</p>
</div>
  <h3 id="constructors">Constructors
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/citychain/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Consensus_ConsensusLoop__ctor_Stratis_Bitcoin_Utilities_IAsyncLoopFactory_Stratis_Bitcoin_Utilities_INodeLifetime_NBitcoin_ConcurrentChain_Stratis_Bitcoin_Features_Consensus_CoinViews_CoinView_Stratis_Bitcoin_BlockPulling_LookaheadBlockPuller_Stratis_Bitcoin_Base_Deployments_NodeDeployments_ILoggerFactory_Stratis_Bitcoin_Base_IChainState_Stratis_Bitcoin_Connection_IConnectionManager_Stratis_Bitcoin_Utilities_IDateTimeProvider_Stratis_Bitcoin_Signals_Signals_Stratis_Bitcoin_Features_Consensus_ConsensusSettings_Stratis_Bitcoin_Configuration_NodeSettings_Stratis_Bitcoin_Connection_IPeerBanning_Stratis_Bitcoin_Features_Consensus_Rules_IConsensusRules_Stratis_Bitcoin_Features_Consensus_IStakeChain_.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Consensus.ConsensusLoop.%23ctor(Stratis.Bitcoin.Utilities.IAsyncLoopFactory%2CStratis.Bitcoin.Utilities.INodeLifetime%2CNBitcoin.ConcurrentChain%2CStratis.Bitcoin.Features.Consensus.CoinViews.CoinView%2CStratis.Bitcoin.BlockPulling.LookaheadBlockPuller%2CStratis.Bitcoin.Base.Deployments.NodeDeployments%2CILoggerFactory%2CStratis.Bitcoin.Base.IChainState%2CStratis.Bitcoin.Connection.IConnectionManager%2CStratis.Bitcoin.Utilities.IDateTimeProvider%2CStratis.Bitcoin.Signals.Signals%2CStratis.Bitcoin.Features.Consensus.ConsensusSettings%2CStratis.Bitcoin.Configuration.NodeSettings%2CStratis.Bitcoin.Connection.IPeerBanning%2CStratis.Bitcoin.Features.Consensus.Rules.IConsensusRules%2CStratis.Bitcoin.Features.Consensus.IStakeChain)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/citychain/src/Stratis.Bitcoin.Features.Consensus/ConsensusLoop.cs/#L156">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop__ctor_" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.#ctor*"></a>
  <h4 id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop__ctor_Stratis_Bitcoin_Utilities_IAsyncLoopFactory_Stratis_Bitcoin_Utilities_INodeLifetime_NBitcoin_ConcurrentChain_Stratis_Bitcoin_Features_Consensus_CoinViews_CoinView_Stratis_Bitcoin_BlockPulling_LookaheadBlockPuller_Stratis_Bitcoin_Base_Deployments_NodeDeployments_ILoggerFactory_Stratis_Bitcoin_Base_IChainState_Stratis_Bitcoin_Connection_IConnectionManager_Stratis_Bitcoin_Utilities_IDateTimeProvider_Stratis_Bitcoin_Signals_Signals_Stratis_Bitcoin_Features_Consensus_ConsensusSettings_Stratis_Bitcoin_Configuration_NodeSettings_Stratis_Bitcoin_Connection_IPeerBanning_Stratis_Bitcoin_Features_Consensus_Rules_IConsensusRules_Stratis_Bitcoin_Features_Consensus_IStakeChain_" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.#ctor(Stratis.Bitcoin.Utilities.IAsyncLoopFactory,Stratis.Bitcoin.Utilities.INodeLifetime,NBitcoin.ConcurrentChain,Stratis.Bitcoin.Features.Consensus.CoinViews.CoinView,Stratis.Bitcoin.BlockPulling.LookaheadBlockPuller,Stratis.Bitcoin.Base.Deployments.NodeDeployments,ILoggerFactory,Stratis.Bitcoin.Base.IChainState,Stratis.Bitcoin.Connection.IConnectionManager,Stratis.Bitcoin.Utilities.IDateTimeProvider,Stratis.Bitcoin.Signals.Signals,Stratis.Bitcoin.Features.Consensus.ConsensusSettings,Stratis.Bitcoin.Configuration.NodeSettings,Stratis.Bitcoin.Connection.IPeerBanning,Stratis.Bitcoin.Features.Consensus.Rules.IConsensusRules,Stratis.Bitcoin.Features.Consensus.IStakeChain)">ConsensusLoop(IAsyncLoopFactory, INodeLifetime, ConcurrentChain, CoinView, LookaheadBlockPuller, NodeDeployments, ILoggerFactory, IChainState, IConnectionManager, IDateTimeProvider, Signals, ConsensusSettings, NodeSettings, IPeerBanning, IConsensusRules, IStakeChain)</h4>
  <div class="markdown level1 summary"><p>Initialize a new instance of <a class="xref" href="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.html">ConsensusLoop</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ConsensusLoop(IAsyncLoopFactory asyncLoopFactory, INodeLifetime nodeLifetime, ConcurrentChain chain, CoinView utxoSet, LookaheadBlockPuller puller, NodeDeployments nodeDeployments, ILoggerFactory loggerFactory, IChainState chainState, IConnectionManager connectionManager, IDateTimeProvider dateTimeProvider, Signals signals, ConsensusSettings consensusSettings, NodeSettings nodeSettings, IPeerBanning peerBanning, IConsensusRules consensusRules, IStakeChain stakeChain = null)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Utilities.IAsyncLoopFactory.html">IAsyncLoopFactory</a></td>
        <td><span class="parametername">asyncLoopFactory</span></td>
        <td><p>The async loop we need to wait upon before we can shut down this feature.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Utilities.INodeLifetime.html">INodeLifetime</a></td>
        <td><span class="parametername">nodeLifetime</span></td>
        <td><p>Contain information about the life time of the node, its used on startup and shutdown.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="NBitcoin.ConcurrentChain.html">ConcurrentChain</a></td>
        <td><span class="parametername">chain</span></td>
        <td><p>A chain of headers all the way to genesis.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Features.Consensus.CoinViews.CoinView.html">CoinView</a></td>
        <td><span class="parametername">utxoSet</span></td>
        <td><p>The consensus db, containing all unspent UTXO in the chain.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.BlockPulling.LookaheadBlockPuller.html">LookaheadBlockPuller</a></td>
        <td><span class="parametername">puller</span></td>
        <td><p>A puller that can pull blocks from peers on demand.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Base.Deployments.NodeDeployments.html">NodeDeployments</a></td>
        <td><span class="parametername">nodeDeployments</span></td>
        <td><p>Contain information about deployment and activation of features in the chain.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">ILoggerFactory</span></td>
        <td><span class="parametername">loggerFactory</span></td>
        <td><p>A factory to provide logger instances.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Base.IChainState.html">IChainState</a></td>
        <td><span class="parametername">chainState</span></td>
        <td><p>Holds state related to the block chain.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Connection.IConnectionManager.html">IConnectionManager</a></td>
        <td><span class="parametername">connectionManager</span></td>
        <td><p>Connection manager of all the currently connected peers.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Utilities.IDateTimeProvider.html">IDateTimeProvider</a></td>
        <td><span class="parametername">dateTimeProvider</span></td>
        <td><p>Provider of time functions.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Signals.Signals.html">Signals</a></td>
        <td><span class="parametername">signals</span></td>
        <td><p>A signaler that used to signal messages between features.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Features.Consensus.ConsensusSettings.html">ConsensusSettings</a></td>
        <td><span class="parametername">consensusSettings</span></td>
        <td><p>Consensus settings for the full node.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Configuration.NodeSettings.html">NodeSettings</a></td>
        <td><span class="parametername">nodeSettings</span></td>
        <td><p>Settings for the full node.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Connection.IPeerBanning.html">IPeerBanning</a></td>
        <td><span class="parametername">peerBanning</span></td>
        <td><p>Handles the banning of peers.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Features.Consensus.Rules.IConsensusRules.html">IConsensusRules</a></td>
        <td><span class="parametername">consensusRules</span></td>
        <td><p>The consensus rules to validate.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Features.Consensus.IStakeChain.html">IStakeChain</a></td>
        <td><span class="parametername">stakeChain</span></td>
        <td><p>Information holding POS data chained.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h3 id="properties">Properties
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/citychain/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Consensus_ConsensusLoop_Chain.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Consensus.ConsensusLoop.Chain%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/citychain/src/Stratis.Bitcoin.Features.Consensus/ConsensusLoop.cs/#L93">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_Chain_" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.Chain*"></a>
  <h4 id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_Chain" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.Chain">Chain</h4>
  <div class="markdown level1 summary"><p>A chain of headers all the way to genesis.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ConcurrentChain Chain { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="NBitcoin.ConcurrentChain.html">ConcurrentChain</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/citychain/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Consensus_ConsensusLoop_ConsensusRules.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Consensus.ConsensusLoop.ConsensusRules%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/citychain/src/Stratis.Bitcoin.Features.Consensus/ConsensusLoop.cs/#L132">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_ConsensusRules_" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.ConsensusRules*"></a>
  <h4 id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_ConsensusRules" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.ConsensusRules">ConsensusRules</h4>
  <div class="markdown level1 summary"><p>Consensus rules engine.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public IConsensusRules ConsensusRules { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Features.Consensus.Rules.IConsensusRules.html">IConsensusRules</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/citychain/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Consensus_ConsensusLoop_NodeDeployments.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Consensus.ConsensusLoop.NodeDeployments%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/citychain/src/Stratis.Bitcoin.Features.Consensus/ConsensusLoop.cs/#L102">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_NodeDeployments_" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.NodeDeployments*"></a>
  <h4 id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_NodeDeployments" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.NodeDeployments">NodeDeployments</h4>
  <div class="markdown level1 summary"><p>Contain information about deployment and activation of features in the chain.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public NodeDeployments NodeDeployments { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Base.Deployments.NodeDeployments.html">NodeDeployments</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/citychain/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Consensus_ConsensusLoop_Puller.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Consensus.ConsensusLoop.Puller%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/citychain/src/Stratis.Bitcoin.Features.Consensus/ConsensusLoop.cs/#L90">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_Puller_" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.Puller*"></a>
  <h4 id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_Puller" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.Puller">Puller</h4>
  <div class="markdown level1 summary"><p>A puller that can pull blocks from peers on demand.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public LookaheadBlockPuller Puller { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.BlockPulling.LookaheadBlockPuller.html">LookaheadBlockPuller</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/citychain/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Consensus_ConsensusLoop_StakeChain.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Consensus.ConsensusLoop.StakeChain%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/citychain/src/Stratis.Bitcoin.Features.Consensus/ConsensusLoop.cs/#L87">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_StakeChain_" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.StakeChain*"></a>
  <h4 id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_StakeChain" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.StakeChain">StakeChain</h4>
  <div class="markdown level1 summary"><p>Information holding POS data chained.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public IStakeChain StakeChain { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Features.Consensus.IStakeChain.html">IStakeChain</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/citychain/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Consensus_ConsensusLoop_Tip.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Consensus.ConsensusLoop.Tip%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/citychain/src/Stratis.Bitcoin.Features.Consensus/ConsensusLoop.cs/#L99">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_Tip_" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.Tip*"></a>
  <h4 id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_Tip" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.Tip">Tip</h4>
  <div class="markdown level1 summary"><p>The current tip of the chain that has been validated.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ChainedHeader Tip { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="NBitcoin.ChainedHeader.html">ChainedHeader</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/citychain/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Consensus_ConsensusLoop_UTXOSet.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Consensus.ConsensusLoop.UTXOSet%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/citychain/src/Stratis.Bitcoin.Features.Consensus/ConsensusLoop.cs/#L96">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_UTXOSet_" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.UTXOSet*"></a>
  <h4 id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_UTXOSet" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.UTXOSet">UTXOSet</h4>
  <div class="markdown level1 summary"><p>The consensus db, containing all unspent UTXO in the chain.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public CoinView UTXOSet { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Features.Consensus.CoinViews.CoinView.html">CoinView</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/citychain/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Consensus_ConsensusLoop_AcceptBlockAsync_Stratis_Bitcoin_Features_Consensus_BlockValidationContext_.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Consensus.ConsensusLoop.AcceptBlockAsync(Stratis.Bitcoin.Features.Consensus.BlockValidationContext)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/citychain/src/Stratis.Bitcoin.Features.Consensus/ConsensusLoop.cs/#L340">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_AcceptBlockAsync_" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.AcceptBlockAsync*"></a>
  <h4 id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_AcceptBlockAsync_Stratis_Bitcoin_Features_Consensus_BlockValidationContext_" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.AcceptBlockAsync(Stratis.Bitcoin.Features.Consensus.BlockValidationContext)">AcceptBlockAsync(BlockValidationContext)</h4>
  <div class="markdown level1 summary"><p>A method that will accept a new block to the node.
The block will be validated and the <a class="xref" href="Stratis.Bitcoin.Features.Consensus.CoinViews.CoinView.html">CoinView</a> db will be updated.
If it's a new block that was mined or staked it will extend the chain and the new block will set <a class="xref" href="NBitcoin.ConcurrentChain.html#NBitcoin_ConcurrentChain_Tip">Tip</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task AcceptBlockAsync(BlockValidationContext blockValidationContext)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Features.Consensus.BlockValidationContext.html">BlockValidationContext</a></td>
        <td><span class="parametername">blockValidationContext</span></td>
        <td><p>Information about the block to validate.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Task</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/citychain/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Consensus_ConsensusLoop_FlushAsync_System_Boolean_.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Consensus.ConsensusLoop.FlushAsync(System.Boolean)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/citychain/src/Stratis.Bitcoin.Features.Consensus/ConsensusLoop.cs/#L470">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_FlushAsync_" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.FlushAsync*"></a>
  <h4 id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_FlushAsync_System_Boolean_" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.FlushAsync(System.Boolean)">FlushAsync(Boolean)</h4>
  <div class="markdown level1 summary"><p>Flushes changes in the cached coinview to the disk.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task FlushAsync(bool force)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td><span class="parametername">force</span></td>
        <td><p><code>true</code> to enforce flush, <code>false</code> to flush only if the cached coinview itself wants to be flushed.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Task</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/citychain/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Consensus_ConsensusLoop_StartAsync.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Consensus.ConsensusLoop.StartAsync%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/citychain/src/Stratis.Bitcoin.Features.Consensus/ConsensusLoop.cs/#L211">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_StartAsync_" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.StartAsync*"></a>
  <h4 id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_StartAsync" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.StartAsync">StartAsync()</h4>
  <div class="markdown level1 summary"><p>Initialize components in <a class="xref" href="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.html">ConsensusLoop</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task StartAsync()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Task</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/citychain/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Consensus_ConsensusLoop_Stop.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Consensus.ConsensusLoop.Stop%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/citychain/src/Stratis.Bitcoin.Features.Consensus/ConsensusLoop.cs/#L243">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_Stop_" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.Stop*"></a>
  <h4 id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_Stop" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.Stop">Stop()</h4>
  <div class="markdown level1 summary"><p>Dispose components in <a class="xref" href="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.html">ConsensusLoop</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Stop()</code></pre>
  </div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/citychain/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Consensus_ConsensusLoop_ValidateBlock_Stratis_Bitcoin_Features_Consensus_RuleContext_.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Consensus.ConsensusLoop.ValidateBlock(Stratis.Bitcoin.Features.Consensus.RuleContext)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/citychain/src/Stratis.Bitcoin.Features.Consensus/ConsensusLoop.cs/#L440">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_ValidateBlock_" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.ValidateBlock*"></a>
  <h4 id="Stratis_Bitcoin_Features_Consensus_ConsensusLoop_ValidateBlock_Stratis_Bitcoin_Features_Consensus_RuleContext_" data-uid="Stratis.Bitcoin.Features.Consensus.ConsensusLoop.ValidateBlock(Stratis.Bitcoin.Features.Consensus.RuleContext)">ValidateBlock(RuleContext)</h4>
  <div class="markdown level1 summary"><p>Validates a block using the consensus rules.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void ValidateBlock(RuleContext context)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Features.Consensus.RuleContext.html">RuleContext</a></td>
        <td><span class="parametername">context</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="implements">Implements</h3>
  <div>
      <a class="xref" href="Stratis.Bitcoin.Features.Consensus.Interfaces.IConsensusLoop.html">IConsensusLoop</a>
  </div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/CityChainFoundation/city-chain/new/citychain/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Consensus_ConsensusLoop.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Consensus.ConsensusLoop%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="contribution-link">Improve this Doc</a>
                  </li>
                  <li>
                    <a href="https://github.com/CityChainFoundation/city-chain/blob/citychain/src/Stratis.Bitcoin.Features.Consensus/ConsensusLoop.cs/#L81" class="contribution-link">View Source</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <a href='https://city-chain.org'>city-chain.org</a> | <a href='https://citychain.foundation'>citychain.foundation</a>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
