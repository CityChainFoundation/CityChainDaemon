<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class TxConfirmStats
   | City Chain: Developer Reference </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class TxConfirmStats
   | City Chain: Developer Reference ">
    <meta name="generator" content="docfx 2.40.4.0">
    
    <link rel="shortcut icon" href="../images/favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../images/icon.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats">
  
  
  <h1 id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats" class="text-break">Class TxConfirmStats
  </h1>
  <div class="markdown level0 summary"><p>Transation confirmation statistics.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><span class="xref">System.Object</span></div>
    <div class="level1"><span class="xref">TxConfirmStats</span></div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Stratis.Bitcoin.Features.MemoryPool.Fee.html">Stratis.Bitcoin.Features.MemoryPool.Fee</a></h6>
  <h6><strong>Assembly</strong>: Stratis.Bitcoin.Features.MemoryPool.dll</h6>
  <h5 id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class TxConfirmStats : object</code></pre>
  </div>
  <h3 id="constructors">Constructors
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats__ctor_ILogger_.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.%23ctor(ILogger)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.MemoryPool/Fee/TxConfirmStats.cs/#L81">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats__ctor_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.#ctor*"></a>
  <h4 id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats__ctor_ILogger_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.#ctor(ILogger)">TxConfirmStats(ILogger)</h4>
  <div class="markdown level1 summary"><p>Constructs an instance of the transaction confirmation stats object.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public TxConfirmStats(ILogger logger)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">ILogger</span></td>
        <td><span class="parametername">logger</span></td>
        <td><p>Instance logger to use for message logging.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_ClearCurrent_System_Int32_.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.ClearCurrent(System.Int32)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.MemoryPool/Fee/TxConfirmStats.cs/#L126">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_ClearCurrent_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.ClearCurrent*"></a>
  <h4 id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_ClearCurrent_System_Int32_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.ClearCurrent(System.Int32)">ClearCurrent(Int32)</h4>
  <div class="markdown level1 summary"><p>Clear the state of the curBlock variables to start counting for the new block.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void ClearCurrent(int nBlockHeight)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">nBlockHeight</span></td>
        <td><p>Block height.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_EstimateMedianVal_System_Int32_System_Double_System_Double_System_Boolean_System_Int32_.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.EstimateMedianVal(System.Int32%2CSystem.Double%2CSystem.Double%2CSystem.Boolean%2CSystem.Int32)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.MemoryPool/Fee/TxConfirmStats.cs/#L237">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_EstimateMedianVal_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.EstimateMedianVal*"></a>
  <h4 id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_EstimateMedianVal_System_Int32_System_Double_System_Double_System_Boolean_System_Int32_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.EstimateMedianVal(System.Int32,System.Double,System.Double,System.Boolean,System.Int32)">EstimateMedianVal(Int32, Double, Double, Boolean, Int32)</h4>
  <div class="markdown level1 summary"><p>Calculate a feerate estimate.  Find the lowest value bucket (or range of buckets
to make sure we have enough data points) whose transactions still have sufficient likelihood
of being confirmed within the target number of confirmations.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public double EstimateMedianVal(int confTarget, double sufficientTxVal, double successBreakPoint, bool requireGreater, int nBlockHeight)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">confTarget</span></td>
        <td><p>Target number of confirmations.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Double</span></td>
        <td><span class="parametername">sufficientTxVal</span></td>
        <td><p>Required average number of transactions per block in a bucket range.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Double</span></td>
        <td><span class="parametername">successBreakPoint</span></td>
        <td><p>The success probability we require.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td><span class="parametername">requireGreater</span></td>
        <td><p>Return the lowest feerate such that all higher values pass minSuccess OR return the highest feerate such that all lower values fail minSuccess.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">nBlockHeight</span></td>
        <td><p>The current block height.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Double</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_GetMaxConfirms.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.GetMaxConfirms%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.MemoryPool/Fee/TxConfirmStats.cs/#L342">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_GetMaxConfirms_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.GetMaxConfirms*"></a>
  <h4 id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_GetMaxConfirms" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.GetMaxConfirms">GetMaxConfirms()</h4>
  <div class="markdown level1 summary"><p>Return the max number of confirms we're tracking.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int GetMaxConfirms()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><p>The max number of confirms.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_Initialize_List_System_Double__System_Int32_System_Double_.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.Initialize(List%7BSystem.Double%7D%2CSystem.Int32%2CSystem.Double)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.MemoryPool/Fee/TxConfirmStats.cs/#L93">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_Initialize_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.Initialize*"></a>
  <h4 id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_Initialize_List_System_Double__System_Int32_System_Double_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.Initialize(List{System.Double},System.Int32,System.Double)">Initialize(List&lt;Double&gt;, Int32, Double)</h4>
  <div class="markdown level1 summary"><p>Initialize the data structures.  This is called by BlockPolicyEstimator's
constructor with default values.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Initialize(List&lt;double&gt; defaultBuckets, int maxConfirms, double decay)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">List</span>&lt;<span class="xref">System.Double</span>&gt;</td>
        <td><span class="parametername">defaultBuckets</span></td>
        <td><p>Contains the upper limits for the bucket boundaries.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">maxConfirms</span></td>
        <td><p>Max number of confirms to track.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Double</span></td>
        <td><span class="parametername">decay</span></td>
        <td><p>How much to decay the historical moving average per block.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_NewTx_System_Int32_System_Double_.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.NewTx(System.Int32%2CSystem.Double)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.MemoryPool/Fee/TxConfirmStats.cs/#L162">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_NewTx_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.NewTx*"></a>
  <h4 id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_NewTx_System_Int32_System_Double_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.NewTx(System.Int32,System.Double)">NewTx(Int32, Double)</h4>
  <div class="markdown level1 summary"><p>Record a new transaction entering the mempool.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int NewTx(int nBlockHeight, double val)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">nBlockHeight</span></td>
        <td><p>The block height.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Double</span></td>
        <td><span class="parametername">val</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><p>The feerate of the transaction.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_Read_Stream_.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.Read(Stream)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.MemoryPool/Fee/TxConfirmStats.cs/#L360">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_Read_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.Read*"></a>
  <h4 id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_Read_Stream_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.Read(Stream)">Read(Stream)</h4>
  <div class="markdown level1 summary"><p>Read saved state of estimation data from a file and replace all internal data structures and
variables with this state.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Read(Stream filein)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Stream</span></td>
        <td><span class="parametername">filein</span></td>
        <td><p>Stream to read from.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_Record_System_Int32_System_Double_.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.Record(System.Int32%2CSystem.Double)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.MemoryPool/Fee/TxConfirmStats.cs/#L144">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_Record_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.Record*"></a>
  <h4 id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_Record_System_Int32_System_Double_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.Record(System.Int32,System.Double)">Record(Int32, Double)</h4>
  <div class="markdown level1 summary"><p>Record a new transaction data point in the current block stats.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Record(int blocksToConfirm, double val)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">blocksToConfirm</span></td>
        <td><p>The number of blocks it took this transaction to confirm. blocksToConfirm is 1-based and has to be &gt;= 1.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Double</span></td>
        <td><span class="parametername">val</span></td>
        <td><p>The feerate of the transaction.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_RemoveTx_System_Int32_System_Int32_System_Int32_.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.RemoveTx(System.Int32%2CSystem.Int32%2CSystem.Int32)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.MemoryPool/Fee/TxConfirmStats.cs/#L176">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_RemoveTx_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.RemoveTx*"></a>
  <h4 id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_RemoveTx_System_Int32_System_Int32_System_Int32_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.RemoveTx(System.Int32,System.Int32,System.Int32)">RemoveTx(Int32, Int32, Int32)</h4>
  <div class="markdown level1 summary"><p>Remove a transaction from mempool tracking stats.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void RemoveTx(int entryHeight, int nBestSeenHeight, int bucketIndex)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">entryHeight</span></td>
        <td><p>The height of the mempool entry.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">nBestSeenHeight</span></td>
        <td><p>The best sceen height.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><span class="parametername">bucketIndex</span></td>
        <td><p>The bucket index.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_UpdateMovingAverages.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.UpdateMovingAverages%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.MemoryPool/Fee/TxConfirmStats.cs/#L215">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_UpdateMovingAverages_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.UpdateMovingAverages*"></a>
  <h4 id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_UpdateMovingAverages" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.UpdateMovingAverages">UpdateMovingAverages()</h4>
  <div class="markdown level1 summary"><p>Update our estimates by decaying our historical moving average and updating
with the data gathered from the current block.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void UpdateMovingAverages()</code></pre>
  </div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_Write_NBitcoin_BitcoinStream_.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.Write(NBitcoin.BitcoinStream)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.MemoryPool/Fee/TxConfirmStats.cs/#L351">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_Write_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.Write*"></a>
  <h4 id="Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats_Write_NBitcoin_BitcoinStream_" data-uid="Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats.Write(NBitcoin.BitcoinStream)">Write(BitcoinStream)</h4>
  <div class="markdown level1 summary"><p>Write state of estimation data to a file.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Write(BitcoinStream stream)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="NBitcoin.BitcoinStream.html">BitcoinStream</a></td>
        <td><span class="parametername">stream</span></td>
        <td><p>Stream to write to.</p>
</td>
      </tr>
    </tbody>
  </table>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_MemoryPool_Fee_TxConfirmStats.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.MemoryPool.Fee.TxConfirmStats%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="contribution-link">Improve this Doc</a>
                  </li>
                  <li>
                    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.MemoryPool/Fee/TxConfirmStats.cs/#L12" class="contribution-link">View Source</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <a href='https://city-chain.org'>city-chain.org</a> | <a href='https://citychain.foundation'>citychain.foundation</a>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
