<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class State
   | City Chain: Developer Reference </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class State
   | City Chain: Developer Reference ">
    <meta name="generator" content="docfx 2.57.1.0">
    
    <link rel="shortcut icon" href="../images/favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../images/icon.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Stratis.SmartContracts.CLR.State">
  
  
  <h1 id="Stratis_SmartContracts_CLR_State" data-uid="Stratis.SmartContracts.CLR.State" class="text-break">Class State
  </h1>
  <div class="markdown level0 summary"><p>Represents the current state of the world during a contract execution.</p>
<p>
The state contains several components:
</p>
- The state repository, which contains global account, code, and contract data.
- Internal transfers, which are transfers generated internally by contracts.
- Balance state, which represents the intermediate state of the balances based on the internal transfers list.
- The log holder, which contains logs generated by contracts during execution.
<p>
When a message is applied to the state, the state is updated if the application was successful. Otherwise, the state
is rolled back to a previous snapshot. This works equally for nested state transitions generated by internal creates,
calls and transfers.
</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><span class="xref">System.Object</span></div>
    <div class="level1"><span class="xref">State</span></div>
  </div>
  <div classs="implements">
    <h5>Implements</h5>
    <div><a class="xref" href="Stratis.SmartContracts.CLR.IState.html">IState</a></div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Stratis.SmartContracts.CLR.html">Stratis.SmartContracts.CLR</a></h6>
  <h6><strong>Assembly</strong>: Stratis.SmartContracts.CLR.dll</h6>
  <h5 id="Stratis_SmartContracts_CLR_State_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class State : object, IState</code></pre>
  </div>
  <h3 id="constructors">Constructors
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_SmartContracts_CLR_State__ctor_Stratis_SmartContracts_CLR_ISmartContractStateFactory_Stratis_SmartContracts_Core_State_IStateRepository_Stratis_SmartContracts_CLR_ContractLogging_IContractLogHolder_List_Stratis_SmartContracts_Core_State_AccountAbstractionLayer_TransferInfo__IBlock_uint256_.md&amp;value=---%0Auid%3A%20Stratis.SmartContracts.CLR.State.%23ctor(Stratis.SmartContracts.CLR.ISmartContractStateFactory%2CStratis.SmartContracts.Core.State.IStateRepository%2CStratis.SmartContracts.CLR.ContractLogging.IContractLogHolder%2CList%7BStratis.SmartContracts.Core.State.AccountAbstractionLayer.TransferInfo%7D%2CIBlock%2Cuint256)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.SmartContracts.CLR/State.cs/#L52">View Source</a>
  </span>
  <a id="Stratis_SmartContracts_CLR_State__ctor_" data-uid="Stratis.SmartContracts.CLR.State.#ctor*"></a>
  <h4 id="Stratis_SmartContracts_CLR_State__ctor_Stratis_SmartContracts_CLR_ISmartContractStateFactory_Stratis_SmartContracts_Core_State_IStateRepository_Stratis_SmartContracts_CLR_ContractLogging_IContractLogHolder_List_Stratis_SmartContracts_Core_State_AccountAbstractionLayer_TransferInfo__IBlock_uint256_" data-uid="Stratis.SmartContracts.CLR.State.#ctor(Stratis.SmartContracts.CLR.ISmartContractStateFactory,Stratis.SmartContracts.Core.State.IStateRepository,Stratis.SmartContracts.CLR.ContractLogging.IContractLogHolder,List{Stratis.SmartContracts.Core.State.AccountAbstractionLayer.TransferInfo},IBlock,uint256)">State(ISmartContractStateFactory, IStateRepository, IContractLogHolder, List&lt;TransferInfo&gt;, IBlock, uint256)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public State(ISmartContractStateFactory smartContractStateFactory, IStateRepository repository, IContractLogHolder contractLogHolder, List&lt;TransferInfo&gt; internalTransfers, IBlock block, uint256 transactionHash)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.SmartContracts.CLR.ISmartContractStateFactory.html">ISmartContractStateFactory</a></td>
        <td><span class="parametername">smartContractStateFactory</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.SmartContracts.Core.State.IStateRepository.html">IStateRepository</a></td>
        <td><span class="parametername">repository</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.SmartContracts.CLR.ContractLogging.IContractLogHolder.html">IContractLogHolder</a></td>
        <td><span class="parametername">contractLogHolder</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">List</span>&lt;<a class="xref" href="Stratis.SmartContracts.Core.State.AccountAbstractionLayer.TransferInfo.html">TransferInfo</a>&gt;</td>
        <td><span class="parametername">internalTransfers</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">IBlock</span></td>
        <td><span class="parametername">block</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">uint256</span></td>
        <td><span class="parametername">transactionHash</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="properties">Properties
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_SmartContracts_CLR_State_BalanceState.md&amp;value=---%0Auid%3A%20Stratis.SmartContracts.CLR.State.BalanceState%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.SmartContracts.CLR/State.cs/#L77">View Source</a>
  </span>
  <a id="Stratis_SmartContracts_CLR_State_BalanceState_" data-uid="Stratis.SmartContracts.CLR.State.BalanceState*"></a>
  <h4 id="Stratis_SmartContracts_CLR_State_BalanceState" data-uid="Stratis.SmartContracts.CLR.State.BalanceState">BalanceState</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public BalanceState BalanceState { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.SmartContracts.CLR.BalanceState.html">BalanceState</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_SmartContracts_CLR_State_Block.md&amp;value=---%0Auid%3A%20Stratis.SmartContracts.CLR.State.Block%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.SmartContracts.CLR/State.cs/#L71">View Source</a>
  </span>
  <a id="Stratis_SmartContracts_CLR_State_Block_" data-uid="Stratis.SmartContracts.CLR.State.Block*"></a>
  <h4 id="Stratis_SmartContracts_CLR_State_Block" data-uid="Stratis.SmartContracts.CLR.State.Block">Block</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public IBlock Block { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">IBlock</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_SmartContracts_CLR_State_ContractState.md&amp;value=---%0Auid%3A%20Stratis.SmartContracts.CLR.State.ContractState%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.SmartContracts.CLR/State.cs/#L81">View Source</a>
  </span>
  <a id="Stratis_SmartContracts_CLR_State_ContractState_" data-uid="Stratis.SmartContracts.CLR.State.ContractState*"></a>
  <h4 id="Stratis_SmartContracts_CLR_State_ContractState" data-uid="Stratis.SmartContracts.CLR.State.ContractState">ContractState</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public IStateRepository ContractState { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.SmartContracts.Core.State.IStateRepository.html">IStateRepository</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_SmartContracts_CLR_State_InternalTransfers.md&amp;value=---%0Auid%3A%20Stratis.SmartContracts.CLR.State.InternalTransfers%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.SmartContracts.CLR/State.cs/#L79">View Source</a>
  </span>
  <a id="Stratis_SmartContracts_CLR_State_InternalTransfers_" data-uid="Stratis.SmartContracts.CLR.State.InternalTransfers*"></a>
  <h4 id="Stratis_SmartContracts_CLR_State_InternalTransfers" data-uid="Stratis.SmartContracts.CLR.State.InternalTransfers">InternalTransfers</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public IReadOnlyList&lt;TransferInfo&gt; InternalTransfers { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">IReadOnlyList</span>&lt;<a class="xref" href="Stratis.SmartContracts.Core.State.AccountAbstractionLayer.TransferInfo.html">TransferInfo</a>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_SmartContracts_CLR_State_LogHolder.md&amp;value=---%0Auid%3A%20Stratis.SmartContracts.CLR.State.LogHolder%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.SmartContracts.CLR/State.cs/#L75">View Source</a>
  </span>
  <a id="Stratis_SmartContracts_CLR_State_LogHolder_" data-uid="Stratis.SmartContracts.CLR.State.LogHolder*"></a>
  <h4 id="Stratis_SmartContracts_CLR_State_LogHolder" data-uid="Stratis.SmartContracts.CLR.State.LogHolder">LogHolder</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public IContractLogHolder LogHolder { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.SmartContracts.CLR.ContractLogging.IContractLogHolder.html">IContractLogHolder</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_SmartContracts_CLR_State_NonceGenerator.md&amp;value=---%0Auid%3A%20Stratis.SmartContracts.CLR.State.NonceGenerator%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.SmartContracts.CLR/State.cs/#L73">View Source</a>
  </span>
  <a id="Stratis_SmartContracts_CLR_State_NonceGenerator_" data-uid="Stratis.SmartContracts.CLR.State.NonceGenerator*"></a>
  <h4 id="Stratis_SmartContracts_CLR_State_NonceGenerator" data-uid="Stratis.SmartContracts.CLR.State.NonceGenerator">NonceGenerator</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public NonceGenerator NonceGenerator { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.SmartContracts.CLR.NonceGenerator.html">NonceGenerator</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_SmartContracts_CLR_State_TransactionHash.md&amp;value=---%0Auid%3A%20Stratis.SmartContracts.CLR.State.TransactionHash%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.SmartContracts.CLR/State.cs/#L69">View Source</a>
  </span>
  <a id="Stratis_SmartContracts_CLR_State_TransactionHash_" data-uid="Stratis.SmartContracts.CLR.State.TransactionHash*"></a>
  <h4 id="Stratis_SmartContracts_CLR_State_TransactionHash" data-uid="Stratis.SmartContracts.CLR.State.TransactionHash">TransactionHash</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public uint256 TransactionHash { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">uint256</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_SmartContracts_CLR_State_AddInitialTransfer_Stratis_SmartContracts_Core_State_AccountAbstractionLayer_TransferInfo_.md&amp;value=---%0Auid%3A%20Stratis.SmartContracts.CLR.State.AddInitialTransfer(Stratis.SmartContracts.Core.State.AccountAbstractionLayer.TransferInfo)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.SmartContracts.CLR/State.cs/#L96">View Source</a>
  </span>
  <a id="Stratis_SmartContracts_CLR_State_AddInitialTransfer_" data-uid="Stratis.SmartContracts.CLR.State.AddInitialTransfer*"></a>
  <h4 id="Stratis_SmartContracts_CLR_State_AddInitialTransfer_Stratis_SmartContracts_Core_State_AccountAbstractionLayer_TransferInfo_" data-uid="Stratis.SmartContracts.CLR.State.AddInitialTransfer(Stratis.SmartContracts.Core.State.AccountAbstractionLayer.TransferInfo)">AddInitialTransfer(TransferInfo)</h4>
  <div class="markdown level1 summary"><p>Adds the initial transfer to the BalanceState. It is necessary to call this method if an external create or call
is being executed in order to reflect the balance of the of the UTXO sent along with the contract invocation transaction.
This method can only be used to set an initial transfer once.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void AddInitialTransfer(TransferInfo initialTransfer)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.SmartContracts.Core.State.AccountAbstractionLayer.TransferInfo.html">TransferInfo</a></td>
        <td><span class="parametername">initialTransfer</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_SmartContracts_CLR_State_AddInternalTransfer_Stratis_SmartContracts_Core_State_AccountAbstractionLayer_TransferInfo_.md&amp;value=---%0Auid%3A%20Stratis.SmartContracts.CLR.State.AddInternalTransfer(Stratis.SmartContracts.Core.State.AccountAbstractionLayer.TransferInfo)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.SmartContracts.CLR/State.cs/#L135">View Source</a>
  </span>
  <a id="Stratis_SmartContracts_CLR_State_AddInternalTransfer_" data-uid="Stratis.SmartContracts.CLR.State.AddInternalTransfer*"></a>
  <h4 id="Stratis_SmartContracts_CLR_State_AddInternalTransfer_Stratis_SmartContracts_Core_State_AccountAbstractionLayer_TransferInfo_" data-uid="Stratis.SmartContracts.CLR.State.AddInternalTransfer(Stratis.SmartContracts.Core.State.AccountAbstractionLayer.TransferInfo)">AddInternalTransfer(TransferInfo)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void AddInternalTransfer(TransferInfo transferInfo)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.SmartContracts.Core.State.AccountAbstractionLayer.TransferInfo.html">TransferInfo</a></td>
        <td><span class="parametername">transferInfo</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_SmartContracts_CLR_State_CreateSmartContractState_Stratis_SmartContracts_CLR_IState_RuntimeObserver_IGasMeter_uint160_Stratis_SmartContracts_CLR_BaseMessage_Stratis_SmartContracts_Core_State_IStateRepository_.md&amp;value=---%0Auid%3A%20Stratis.SmartContracts.CLR.State.CreateSmartContractState(Stratis.SmartContracts.CLR.IState%2CRuntimeObserver.IGasMeter%2Cuint160%2CStratis.SmartContracts.CLR.BaseMessage%2CStratis.SmartContracts.Core.State.IStateRepository)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.SmartContracts.CLR/State.cs/#L86">View Source</a>
  </span>
  <a id="Stratis_SmartContracts_CLR_State_CreateSmartContractState_" data-uid="Stratis.SmartContracts.CLR.State.CreateSmartContractState*"></a>
  <h4 id="Stratis_SmartContracts_CLR_State_CreateSmartContractState_Stratis_SmartContracts_CLR_IState_RuntimeObserver_IGasMeter_uint160_Stratis_SmartContracts_CLR_BaseMessage_Stratis_SmartContracts_Core_State_IStateRepository_" data-uid="Stratis.SmartContracts.CLR.State.CreateSmartContractState(Stratis.SmartContracts.CLR.IState,RuntimeObserver.IGasMeter,uint160,Stratis.SmartContracts.CLR.BaseMessage,Stratis.SmartContracts.Core.State.IStateRepository)">CreateSmartContractState(IState, RuntimeObserver.IGasMeter, uint160, BaseMessage, IStateRepository)</h4>
  <div class="markdown level1 summary"><p>Sets up a new <see cref="!:ISmartContractState"></see> based on the current state.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ISmartContractState CreateSmartContractState(IState state, RuntimeObserver.IGasMeter gasMeter, uint160 address, BaseMessage message, IStateRepository repository)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.SmartContracts.CLR.IState.html">IState</a></td>
        <td><span class="parametername">state</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">RuntimeObserver.IGasMeter</span></td>
        <td><span class="parametername">gasMeter</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">uint160</span></td>
        <td><span class="parametername">address</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.SmartContracts.CLR.BaseMessage.html">BaseMessage</a></td>
        <td><span class="parametername">message</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.SmartContracts.Core.State.IStateRepository.html">IStateRepository</a></td>
        <td><span class="parametername">repository</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">ISmartContractState</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_SmartContracts_CLR_State_GenerateAddress_Stratis_SmartContracts_CLR_IAddressGenerator_.md&amp;value=---%0Auid%3A%20Stratis.SmartContracts.CLR.State.GenerateAddress(Stratis.SmartContracts.CLR.IAddressGenerator)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.SmartContracts.CLR/State.cs/#L145">View Source</a>
  </span>
  <a id="Stratis_SmartContracts_CLR_State_GenerateAddress_" data-uid="Stratis.SmartContracts.CLR.State.GenerateAddress*"></a>
  <h4 id="Stratis_SmartContracts_CLR_State_GenerateAddress_Stratis_SmartContracts_CLR_IAddressGenerator_" data-uid="Stratis.SmartContracts.CLR.State.GenerateAddress(Stratis.SmartContracts.CLR.IAddressGenerator)">GenerateAddress(IAddressGenerator)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public uint160 GenerateAddress(IAddressGenerator addressGenerator)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.SmartContracts.CLR.IAddressGenerator.html">IAddressGenerator</a></td>
        <td><span class="parametername">addressGenerator</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">uint160</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_SmartContracts_CLR_State_GetBalance_uint160_.md&amp;value=---%0Auid%3A%20Stratis.SmartContracts.CLR.State.GetBalance(uint160)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.SmartContracts.CLR/State.cs/#L140">View Source</a>
  </span>
  <a id="Stratis_SmartContracts_CLR_State_GetBalance_" data-uid="Stratis.SmartContracts.CLR.State.GetBalance*"></a>
  <h4 id="Stratis_SmartContracts_CLR_State_GetBalance_uint160_" data-uid="Stratis.SmartContracts.CLR.State.GetBalance(uint160)">GetBalance(uint160)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ulong GetBalance(uint160 address)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">uint160</span></td>
        <td><span class="parametername">address</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.UInt64</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_SmartContracts_CLR_State_GetLogs_Stratis_SmartContracts_CLR_Serialization_IContractPrimitiveSerializer_.md&amp;value=---%0Auid%3A%20Stratis.SmartContracts.CLR.State.GetLogs(Stratis.SmartContracts.CLR.Serialization.IContractPrimitiveSerializer)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.SmartContracts.CLR/State.cs/#L109">View Source</a>
  </span>
  <a id="Stratis_SmartContracts_CLR_State_GetLogs_" data-uid="Stratis.SmartContracts.CLR.State.GetLogs*"></a>
  <h4 id="Stratis_SmartContracts_CLR_State_GetLogs_Stratis_SmartContracts_CLR_Serialization_IContractPrimitiveSerializer_" data-uid="Stratis.SmartContracts.CLR.State.GetLogs(Stratis.SmartContracts.CLR.Serialization.IContractPrimitiveSerializer)">GetLogs(IContractPrimitiveSerializer)</h4>
  <div class="markdown level1 summary"><p>Returns contract logs in the log type used by consensus.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public IList&lt;Log&gt; GetLogs(IContractPrimitiveSerializer serializer)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.SmartContracts.CLR.Serialization.IContractPrimitiveSerializer.html">IContractPrimitiveSerializer</a></td>
        <td><span class="parametername">serializer</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">IList</span>&lt;<a class="xref" href="Stratis.SmartContracts.Core.Receipts.Log.html">Log</a>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_SmartContracts_CLR_State_Snapshot.md&amp;value=---%0Auid%3A%20Stratis.SmartContracts.CLR.State.Snapshot%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.SmartContracts.CLR/State.cs/#L155">View Source</a>
  </span>
  <a id="Stratis_SmartContracts_CLR_State_Snapshot_" data-uid="Stratis.SmartContracts.CLR.State.Snapshot*"></a>
  <h4 id="Stratis_SmartContracts_CLR_State_Snapshot" data-uid="Stratis.SmartContracts.CLR.State.Snapshot">Snapshot()</h4>
  <div class="markdown level1 summary"><p>Returns a mutable snapshot of the current state. Changes can be made to the snapshot, then discarded or applied to the parent state.
To update this state with changes made to the snapshot, call <a class="xref" href="Stratis.SmartContracts.CLR.State.html#Stratis_SmartContracts_CLR_State_TransitionTo_Stratis_SmartContracts_CLR_IState_">TransitionTo(IState)</a>. Only one valid snapshot can exist. If a new
snapshot is created, the parent state will reject any transitions from older snapshots.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public IState Snapshot()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.SmartContracts.CLR.IState.html">IState</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_SmartContracts_CLR_State_TransitionTo_Stratis_SmartContracts_CLR_IState_.md&amp;value=---%0Auid%3A%20Stratis.SmartContracts.CLR.State.TransitionTo(Stratis.SmartContracts.CLR.IState)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.SmartContracts.CLR/State.cs/#L114">View Source</a>
  </span>
  <a id="Stratis_SmartContracts_CLR_State_TransitionTo_" data-uid="Stratis.SmartContracts.CLR.State.TransitionTo*"></a>
  <h4 id="Stratis_SmartContracts_CLR_State_TransitionTo_Stratis_SmartContracts_CLR_IState_" data-uid="Stratis.SmartContracts.CLR.State.TransitionTo(Stratis.SmartContracts.CLR.IState)">TransitionTo(IState)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void TransitionTo(IState state)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.SmartContracts.CLR.IState.html">IState</a></td>
        <td><span class="parametername">state</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="implements">Implements</h3>
  <div>
      <a class="xref" href="Stratis.SmartContracts.CLR.IState.html">IState</a>
  </div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_SmartContracts_CLR_State.md&amp;value=---%0Auid%3A%20Stratis.SmartContracts.CLR.State%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="contribution-link">Improve this Doc</a>
                  </li>
                  <li>
                    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.SmartContracts.CLR/State.cs/#L27" class="contribution-link">View Source</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <a href='https://www.city-chain.org'>city-chain.org</a> | <a href='https://www.citychain.foundation'>citychain.foundation</a>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
